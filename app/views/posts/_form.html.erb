<%= simple_form_for @post do |f| %>
<%= render 'shared/error_messages', object: f.object %>
  <%= f.input :name %>
   <%= f.input :offerrequest, placeholder: 'Select an option', label: "Is your post a request or an offer?" %>
   <%= f.input :postitemservice, placeholder: "Select an option", label: "And is your post in regards to an item, or a service?",
     input_html: { id: 'itemservice_selector' },
     :include_blank => false %>

  <%= f.input :price, label: "Free?", selected: 0,  as: :radio_buttons %>
   
   <%= f.association :categories, as: :collection_select,
   collection: Category.where('itemservice <>?', 1),
     input_html: { class: 'item_selected' }%>

     <%= f.association :categories, as: :collection_select,
     collection: Category.where('itemservice <>?', 0), :label => false, 
     input_html: { class: 'service_selected' }%>

     <%= f.label :avatar, "Upload up to five photos at once: " %><br>
     <%= f.file_field :avatar, :multiple => true, name: "post_attachments[avatar][]",
      accept: 'image/jpeg,image/gif,image/png' %>
  <%= f.button :submit %>
   
<% end %>

<script>
$(document).ready(function(){
    $("#itemservice_selector").change(function(){
        if($("#itemservice_selector").val() == "Item"){
          $( "item_selected" ).prop( "disabled", false ); 
         $( "service_selected" ).prop( "disabled", true );
        } 
        else if($("#itemservice_selector").val() == "Service"){
           $( "item_selected" ).prop( "disabled", true ); 
         $( "service_selected" ).prop( "disabled", false );
        }            
    });        
});
</script>